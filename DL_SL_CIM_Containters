BEGIN HEADER
   CharacterSet "CP1252"
   ExportingTool "IBM InfoSphere DataStage Export"
   ToolVersion "8"
   ServerName "DLXDEP01.IC.ING.NET"
   ToolInstanceID "DP_SL_CIM"
   MDISVersion "1.0"
   Date "2024-03-20"
   Time "12.33.00"
   ServerVersion "11.7"
END HEADER
BEGIN DSROUTINES
   BEGIN DSRECORD
      Identifier "rtExecNzSql"
      DateModified "2021-12-07"
      TimeModified "15.19.30"
      OLEType "CRoutine"
      Readonly "0"
      Category "\\Routines"
      ShortDesc "Run a SQL command using NZSQL"
      Description "20150713 - Initial version of NZSQL call"
      RoutineType "0"
      ArgCount "6"
      Built "1"
      SourceFlag "1"
      Version "2.0.0"
      TestValues "'SELECT COUNT(1) FROM ADMIN.DUAL'\(1B)''\(1B)D_IS_DST\(1B)BR47KZ\(1B)JUNjun06\(1B)netezza-dta-floating.itc.intranet"
      Source =+=+=+=
FUNCTION rtExecNzSql(pSql,pResult,pDbName,pUser,pPwd,pServer)
#Include DSINCLUDE JOBCONTROL.H

      Ans       = ''

  !-! run NZSQL command
      cmd        = 'nzsql -host ' : pServer : ' -u ' : pUser : ' -db ' : pDbName : ' -c ' : DQuote( pSql ) : ' -t'

      Call DSExecute('UNIX', cmd, result, status )

      if status <> 0
      then 
          Call DSLogFatal('nzsql error when executing following statement: ' : pSql, 'rtExecNzSql')
      end

      Del result<DCount( result, @FM )> 
      Del result<DCount( result, @FM )>

  !-! as we called NZSQL without column headings the value in 'result' is what we need. There may be more than one result so make them into one string (will fail if too many results but for our usage this should not occur)

      Convert @FM to '^' In result

      pResult = Trim(result, ' ', 'B' )

      Call DSLogInfo('Result is ' : pResult, DSJ.ME )

Return(0)

RETURN(Ans)
=+=+=+=
      Catalog "DSU.rtExecNzSql"
      JobType "0"
      Arguments "CRtnArgument"
      BEGIN DSSUBRECORD
         Name "pSql"
         Desc "SQL to be executed"
         SqlType "1"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "pResult"
         Desc "Result of the SQL (single column value, one row)"
         SqlType "1"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "pDbName"
         Desc "Database name"
         SqlType "1"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "pUser"
         Desc "User name"
         SqlType "1"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "pPwd"
         Desc "Password"
         SqlType "1"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "pServer"
         Desc "Hostname"
         SqlType "1"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      SkipOnNull "0"
      InvocationMethod "0"
   END DSRECORD
   BEGIN DSUBINARY
      Identifier "DSU.rtExecNzSql"
      B1 "E1DA00B5050001003100070000000000160016004F004F0039001600FD7F0000DE0000001D000000"
      B41 "1800000085000000E721000032010000320100006502000001070000310700000000000000000000"
      B81 "08000000F80039002900400133003E00040109003A0038003B0036003C0035003D003E003F002A00"
      B121 "F80041002B001E00400004002B002A002C002D0006012D0042003E00DE023E00600000003A004400"
      B161 "33002E00F80045002F001E00430002002E002F00260046003E0050002C003E0047005E002C004700"
      B201 "420042002C0026004600470050002C00470048005E002C004800420042002C002600460048003C00"
      B241 "480049002C002C004E022C004A004B0034003A004D0034003000F8004E0031001E004C0002003000"
      B281 "3100F800420032005C01F800290032005C01F800390032005C01006E7A73716C202D686F73742020"
      B321 "2D7520202D646220202D6320202D74445345786563757465554E495844534C6F67466174616C6E7A"
      B361 "73716C206572726F72207768656E20657865637574696E6720666F6C6C6F77696E67207374617465"
      B401 "6D656E743A207274457865634E7A53716C5E204244534C6F67496E666F526573756C742069732001"
      B441 "0000000001000000010C0000000100000001040000000D0000000105000000110000000104000000"
      B481 "16000000050000000001030000001A00000004090000001D00000001040000002600000003000000"
      B521 "00040A0000002A000000013000000034000000010B0000006400000003FE00000005010000000502"
      B561 "00000001010000006F00000001010000007000000001010000007100000004090000007200000001"
      B601 "0A0000007B0000000301000000000000000000000000000000080000000100010000000000100000"
      B641 "0002000100000000001800000003000100000000002000000004000100000000002A000000050001"
      B681 "00000000003300000006000100000000003D00000007000100000000004600000008000100000000"
      B721 "004E0000000900010000000000580000000A00010000000000680000000B00010000000000720000"
      B761 "000C000100000000007C0000000D00010000000000840000000E000100000000008E0000000F0001"
      B801 "0000000000980000001000010000000000A00000001100010000000000AD00000012000100000000"
      B841 "00BA0000001300010000000000C40000001400010000000000D00000001500010000000000DE0000"
      B881 "001600010000000000EA0000001700010000000000F20000001800010000000000FA000000190001"
      B921 "0000000000050100001A000100000000000B0100001B00010000000000150100001C000100000000"
      B961 "00200100001D000100000000002A0100001E00010000000000350100001F000100000000003E0100"
      B1001 "0020000100000000004301000021000100000000004D010000220001000000000053010000230001"
      B1041 "00000000006001000024000100000000006701000025000100000000006F01000026000100000000"
      B1081 "007801000027000100000000008001000028000100000000008801000029000100000000008C0100"
      B1121 "002A00010000000000900100002B00010000000000970100002C000100000000009E0100002D0001"
      B1161 "0000000000A50100002E00010000000000AC0100002F00010000000000B301000030000100000000"
      B1201 "00BA0100003100010000000000C10100003200030000000000C80100003300040000000000CD0100"
      B1241 "003400040000000000D50100003500040000000000DD0100003600040000000000E3010000370003"
      B1281 "0000000000E80100003800040000000000244D4154524958004A6F624E616D65004572724D6F6465"
      B1321 "0052746E4E616D65004A6F6248616E646C6500496E666F547970650053746167654E616D65004C69"
      B1361 "6E6B4E616D65004576656E7449640052756E4E756D626572004576656E745479706546696C746572"
      B1401 "004576656E745479706500537461727454696D6500456E6454696D65004D61784E756D6265720050"
      B1441 "6172616D4E616D65005661724E616D650043757374496E666F4E616D65004576656E744D65737361"
      B1481 "6765004D7367537472696E67005265706F72744C6576656C004C696E65536570617261746F72004D"
      B1521 "736754656D706C617465004172674C6973740052756E4D6F646500506172616D6574657273005661"
      B1561 "6C7565004C696D697454797065004C696D697456616C75650051756575654E616D6500506172616D"
      B1601 "56616C75650056617256616C756500436F6465004572726F72436F6465004A6F6249440054726163"
      B1641 "654F7074696F6E7300706F72744E6F0054696D656F757400537562724E616D650053756272417267"
      B1681 "004F7074696F6E7300416E7300636D64005F543030303100726573756C7400737461747573005F54"
      B1721 "30303032005F5430303033005F5430303034005F5430303035005F5430303030007053716C007052"
      B1761 "6573756C74007044624E616D650070557365720070507764007053657276657200FCFF0000FDFF06"
      B1801 "00FEFF1E00FEFF1400FEFF1000FDFF18001A00FCFF1A00FEFF1000FEFF0A00FEFF1800FEFF080008"
      B1841 "002F6170706C2F647370726F6A656374732F4E4C5F49535F5345432F4453555F42502F4453552E72"
      B1881 "74457865634E7A53716C0000"
   END DSUBINARY
   BEGIN DSRECORD
      Identifier "rtExecOraSql"
      DateModified "2021-12-07"
      TimeModified "15.19.30"
      OLEType "CRoutine"
      Readonly "0"
      Category "\\Routines"
      ShortDesc "Run an Oracle SQL command using Sqlplus"
      Description " Initial version of OraSQL call"
      RoutineType "0"
      ArgCount "3"
      Built "1"
      SourceFlag "1"
      Version "2.0.0"
      TestValues "select sysdate from dual;\(1B)\(1B)OS_PPA_DP1_USER\(9)!sleep 10\(1B)\(1B)D_OH_BAS\(9)\"select (b.checksum-a.file_count) trailer_diff_count from (select cast(checksum as integer) checksum from OS_PPA_STG_OWNER.PPA_STG_KGC_INV_TRAILER) b,(Select sum(sub.cnt) file_count  from ( SELECT COUNT(1) cnt  FROM OS_PPA_STG_OWNER.PPA_STG_KGC_INV_HEADER UNION all SELECT COUNT(1) FROM OS_PPA_STG_OWNER.PPA_STG_KGC_INV_R_KGC001_INTERVENIENT UNION all SELECT COUNT(1) FROM OS_PPA_STG_OWNER.PPA_STG_KGC_INV_R_KGC002_RECORD_TAKER UNION all SELECT COUNT(1) FROM OS_PPA_STG_OWNER.PPA_STG_KGC_INV_R_KGC003_RECORD_SLAVE UNION all SELECT COUNT(1) FROM OS_PPA_STG_OWNER.PPA_STG_KGC_INV_R_KGC004_RECORD_RSK_FAMILLY UNION all SELECT COUNT(1) FROM OS_PPA_STG_OWNER.PPA_STG_KGC_INV_TRAILER)sub) a\"\(1B)\(1B)OS_PPA_DP1_USER"
      Source =+=+=+=
FUNCTION rtExecOraSql(pSql,pResult,pUser)
#Include DSINCLUDE JOBCONTROL.H

      Ans       = ''

  !-! run OraSQL command
      cmd='echo -ne "set linesize 1000\\nset feedback off\\nset Newpage none\\nset heading off\\nset timing off\\nset echo off\\n ' : pSql : '" | sqlplus -s /@': pUser : ''
      Call DSLogInfo('Result is ' :cmd,DSJ.ME)

      Call DSExecute('UNIX',cmd,result,status) 
  !-!   Call DSLogInfo('output is ' :result,DSJ.ME)
  !-!   Call DSLogInfo('Status is ' :status,DSJ.ME)
      if status <> 0
      then 
          Call DSLogFatal('Sqlplus could not run the SQL: ' : result : ' ' : status, 'rtExecOraSql' )
      end

    !-! Del result<DCount(result,@FM)> 
     Del result<DCount(result,@FM)> 


  
      Convert @FM to '^' In result

      pResult = Trim(result, ' ', 'B' )
      Call DSLogInfo('Result is ' :result,DSJ.ME)
      pResult = Trim(result,'	','B')

      

Return(0)


RETURN(Ans)
=+=+=+=
      Catalog "DSU.rtExecOraSql"
      JobType "0"
      Arguments "CRtnArgument"
      BEGIN DSSUBRECORD
         Name "pSql"
         Desc "SQL to be executed"
         SqlType "0"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "pResult"
         Desc "Result of the SQL (single column value, one row)"
         SqlType "1"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "pUser"
         Desc "User name"
         SqlType "1"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      SkipOnNull "0"
      InvocationMethod "0"
   END DSRECORD
   BEGIN DSUBINARY
      Identifier "DSU.rtExecOraSql"
      B1 "E1DA00B5050001003300040000000000130013004B004B0038001300FF7F0000E000000022000000"
      B41 "18000000DC00000000D800003401000034010000A702000030070000600700000000000000000000"
      B81 "08000000F8003800290004010500390035003A00370038002A003A003C002A002B00F8003D002C00"
      B121 "1E003B0002002B002C00F8003F002D001E003E0004002D002A002E002F0006012F0040004100DE02"
      B161 "41000000720000000401040043002E0044002F003000F800450031001E0042000200300031002600"
      B201 "4600410050002E00410047005E002E004700400040002E002600460047003C00470048002E002E00"
      B241 "4E022E004400490036003A003C002E003200F8003D0033001E003B000200320033004E022E004A00"
      B281 "49003600F800400034005C01F800290034005C01F800380034005C01006563686F202D6E65202273"
      B321 "6574206C696E6573697A6520313030305C6E73657420666565646261636B206F66665C6E73657420"
      B361 "4E657770616765206E6F6E655C6E7365742068656164696E67206F66665C6E7365742074696D696E"
      B401 "67206F66665C6E736574206563686F206F66665C6E2022207C2073716C706C7573202D73202F4044"
      B441 "534C6F67496E666F526573756C7420697320445345786563757465554E495844534C6F6746617461"
      B481 "6C53716C706C757320636F756C64206E6F742072756E207468652053514C3A20207274457865634F"
      B521 "726153716C5E42090100000000010000000171000000010000000111000000720000000409000000"
      B561 "83000000010A0000008C000000030100000004090000009600000001040000009F00000003000000"
      B601 "000500000000040A000000A3000000011F000000AD0000000101000000CC000000010C000000CD00"
      B641 "000003FE00000005010000000101000000D90000000101000000DA0000000101000000DB00000000"
      B681 "00000000000000000000000800000001000100000000001000000002000100000000001800000003"
      B721 "000100000000002000000004000100000000002A0000000500010000000000330000000600010000"
      B761 "0000003D00000007000100000000004600000008000100000000004E000000090001000000000058"
      B801 "0000000A00010000000000680000000B00010000000000720000000C000100000000007C0000000D"
      B841 "00010000000000840000000E000100000000008E0000000F00010000000000980000001000010000"
      B881 "000000A00000001100010000000000AD0000001200010000000000BA0000001300010000000000C4"
      B921 "0000001400010000000000D00000001500010000000000DE0000001600010000000000EA00000017"
      B961 "00010000000000F20000001800010000000000FA0000001900010000000000050100001A00010000"
      B1001 "0000000B0100001B00010000000000150100001C00010000000000200100001D000100000000002A"
      B1041 "0100001E00010000000000350100001F000100000000003E01000020000100000000004301000021"
      B1081 "000100000000004D0100002200010000000000530100002300010000000000600100002400010000"
      B1121 "0000006701000025000100000000006F010000260001000000000078010000270001000000000080"
      B1161 "01000028000100000000008801000029000100000000008C0100002A00010000000000900100002B"
      B1201 "00010000000000970100002C000100000000009E0100002D00010000000000A50100002E00010000"
      B1241 "000000AC0100002F00010000000000B30100003000010000000000BA0100003100010000000000C1"
      B1281 "0100003200010000000000C80100003300010000000000CF0100003400030000000000D601000035"
      B1321 "00040000000000DB0100003600040000000000E30100003700040000000000244D4154524958004A"
      B1361 "6F624E616D65004572724D6F64650052746E4E616D65004A6F6248616E646C6500496E666F547970"
      B1401 "650053746167654E616D65004C696E6B4E616D65004576656E7449640052756E4E756D6265720045"
      B1441 "76656E745479706546696C746572004576656E745479706500537461727454696D6500456E645469"
      B1481 "6D65004D61784E756D62657200506172616D4E616D65005661724E616D650043757374496E666F4E"
      B1521 "616D65004576656E744D657373616765004D7367537472696E67005265706F72744C6576656C004C"
      B1561 "696E65536570617261746F72004D736754656D706C617465004172674C6973740052756E4D6F6465"
      B1601 "00506172616D65746572730056616C7565004C696D697454797065004C696D697456616C75650051"
      B1641 "756575654E616D6500506172616D56616C75650056617256616C756500436F6465004572726F7243"
      B1681 "6F6465004A6F6249440054726163654F7074696F6E7300706F72744E6F0054696D656F7574005375"
      B1721 "62724E616D650053756272417267004F7074696F6E7300416E7300636D64005F5430303031005F54"
      B1761 "30303032005F543030303300726573756C7400737461747573005F5430303034005F543030303500"
      B1801 "5F5430303036005F5430303037005F5430303030007053716C0070526573756C7400705573657200"
      B1841 "FCFF0000FDFF06001000FEFF1800FDFF1400FEFF1200FCFF1E00FCFF1A00FEFF10000A001800FCFF"
      B1881 "0A00FDFF080008002F6170706C2F647370726F6A656374732F44505F4F535F5050412F4453555F42"
      B1921 "502F4453552E7274457865634F726153716C0000"
   END DSUBINARY
   BEGIN DSRECORD
      Identifier "rtGetFileName"
      DateModified "2021-12-07"
      TimeModified "15.19.31"
      OLEType "CRoutine"
      Readonly "0"
      Category "\\Routines"
      RoutineType "0"
      ArgCount "4"
      Built "1"
      SourceFlag "1"
      Version "2.0.0"
      TestValues "/tmp\(1B)W02050\(1B)20150101\(1B)\(9)/appl/staging/datadir\(1B)W02051\(1B)20151031\(1B)"
      Source =+=+=+=
FUNCTION rtGetFileName(pPathName,pFileCode,pFileDate,pResult)
#Include DSINCLUDE JOBCONTROL.H
      Ans = ''

      cmd = 'ls ' : pPathName : '/' : pFileCode : '.' : pFileDate : '.*.dat'

      Call DSExecute('UNIX', cmd, result, status )

      If status Then Call DSLogFatal('File not found ', DSJ.ME )

      Call DSLogInfo('Result is ' : result, DSJ.ME )

      !-! Convert line separators 
      Convert @FM to '' In result

      !-! Remove the path
      pResult = field(result, '/', 5)

  Return(0)
RETURN(Ans)
=+=+=+=
      Catalog "DSU.rtGetFileName"
      JobType "0"
      Arguments "CRtnArgument"
      BEGIN DSSUBRECORD
         Name "pPathName"
         SqlType "0"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "pFileCode"
         SqlType "1"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "pFileDate"
         SqlType "1"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "pResult"
         SqlType "1"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      SkipOnNull "0"
      InvocationMethod "0"
   END DSRECORD
   BEGIN DSUBINARY
      Identifier "DSU.rtGetFileName"
      B1 "E1DA00B3050001003100050000000000100010004700470037001000FF7F00009A00000014000000"
      B41 "1200000045000000B6C90000EE000000EE000000AF01000031060000550600000000000000000000"
      B81 "08000000F800370029000401070038003300390034003A0035003B002A00F8003D002B001E003C00"
      B121 "04002B002A002C002D00DE022D0000004E000000F8003F002E00F80040002F001E003E0002002E00"
      B161 "2F003A0042002C003000F800400031001E0041000200300031002600430044003C00440037002C00"
      B201 "2C0084002C003900450040003600F800460032005C01F800290032005C01F800370032005C01006C"
      B241 "73202F2E2E2A2E646174445345786563757465554E495844534C6F67466174616C46696C65206E6F"
      B281 "7420666F756E642044534C6F67496E666F526573756C742069732001000000000100000001030000"
      B321 "000100000001010000000400000001010000000500000001060000000600000004090000000C0000"
      B361 "00010400000015000000040A00000019000000010F00000023000000030100000004090000003200"
      B401 "0000010A0000003B00000003FE000000050000000003050000000300000000000000000000000000"
      B441 "00000008000000010001000000000010000000020001000000000018000000030001000000000020"
      B481 "00000004000100000000002A00000005000100000000003300000006000100000000003D00000007"
      B521 "000100000000004600000008000100000000004E0000000900010000000000580000000A00010000"
      B561 "000000680000000B00010000000000720000000C000100000000007C0000000D0001000000000084"
      B601 "0000000E000100000000008E0000000F00010000000000980000001000010000000000A000000011"
      B641 "00010000000000AD0000001200010000000000BA0000001300010000000000C40000001400010000"
      B681 "000000D00000001500010000000000DE0000001600010000000000EA0000001700010000000000F2"
      B721 "0000001800010000000000FA0000001900010000000000050100001A000100000000000B0100001B"
      B761 "00010000000000150100001C00010000000000200100001D000100000000002A0100001E00010000"
      B801 "000000350100001F000100000000003E01000020000100000000004301000021000100000000004D"
      B841 "01000022000100000000005301000023000100000000006001000024000100000000006701000025"
      B881 "000100000000006F0100002600010000000000780100002700010000000000800100002800010000"
      B921 "0000008801000029000100000000008C0100002A00010000000000900100002B0001000000000097"
      B961 "0100002C000100000000009E0100002D00010000000000A50100002E00010000000000AC0100002F"
      B1001 "00010000000000B30100003000010000000000BA0100003100010000000000C10100003200030000"
      B1041 "000000C80100003300040000000000D20100003400040000000000DC0100003500040000000000E6"
      B1081 "0100003600040000000000244D4154524958004A6F624E616D65004572724D6F64650052746E4E61"
      B1121 "6D65004A6F6248616E646C6500496E666F547970650053746167654E616D65004C696E6B4E616D65"
      B1161 "004576656E7449640052756E4E756D626572004576656E745479706546696C746572004576656E74"
      B1201 "5479706500537461727454696D6500456E6454696D65004D61784E756D62657200506172616D4E61"
      B1241 "6D65005661724E616D650043757374496E666F4E616D65004576656E744D657373616765004D7367"
      B1281 "537472696E67005265706F72744C6576656C004C696E65536570617261746F72004D736754656D70"
      B1321 "6C617465004172674C6973740052756E4D6F646500506172616D65746572730056616C7565004C69"
      B1361 "6D697454797065004C696D697456616C75650051756575654E616D6500506172616D56616C756500"
      B1401 "56617256616C756500436F6465004572726F72436F6465004A6F6249440054726163654F7074696F"
      B1441 "6E7300706F72744E6F0054696D656F757400537562724E616D650053756272417267004F7074696F"
      B1481 "6E7300416E7300636D64005F543030303100726573756C7400737461747573005F5430303032005F"
      B1521 "5430303033005F5430303034005F5430303035005F54303030300070506174684E616D6500704669"
      B1561 "6C65436F6465007046696C65446174650070526573756C7400FDFF0000FEFF0600FEFF1400FEFF14"
      B1601 "00FEFF2000FDFF1800FDFF1000FEFF0C00080008002F6170706C2F647370726F6A656374732F4E4C"
      B1641 "5F49535F4453542F4453555F42502F4453552E727447657446696C654E616D650000"
   END DSUBINARY
   BEGIN DSRECORD
      Identifier "rtGetOraProcessingDates"
      DateModified "2021-12-07"
      TimeModified "15.19.31"
      OLEType "CRoutine"
      Readonly "0"
      Category "\\Routines"
      ShortDesc "Retrieve the last and next processing date using SQLPLUS"
      Description =+=+=+=
2016xxxx JH - Made the code to solely retrieve the last and next processing dates
20150713 - Initial version of SQLPLUS call
=+=+=+=
      RoutineType "0"
      ArgCount "5"
      Built "1"
      SourceFlag "1"
      Version "2.0.0"
      TestValues "''\(1B)''\(1B)D_NZ_CCL\(1B)BR47KZ\(1B)MEImei29\(1B)netezza-dta-floating.itc.intranet\(1B)NL_IS_PPA\(1B)MDM_M1"
      Source =+=+=+=
FUNCTION rtGetOraProcessingDates(pNextProcessingDate,pLastProcessingDate,pUser,pApplicationCode,pFlowCode)
#Include DSINCLUDE JOBCONTROL.H

      Ans       = ''

      pSql = "SELECT TO_CHAR(LAST_PROCESSING_TMS,'YYYY-MM-DD HH24:MI:SS')||'|'||TO_CHAR(NEXT_PROCESSING_TMS,'YYYY-MM-DD HH24:MI:SS')||'|'||FLOW_CD FROM CCL_CAS_OWNER.FLOW_STATUS WHERE APPLICATION_CD='":pApplicationCode:"' AND FLOW_CD='":pFlowCode:"';"; 

      Call DSLogInfo('SQL is ' : pSql, DSJ.ME )


  !-! run OraSQL command

      cmd='echo -ne "set linesize 1000\\nset feedback off\\nset Newpage none\\nset heading off\\nset timing off\\nset echo off\\n ' : pSql : '" | sqlplus -s /@': pUser : ''
      Call DSLogInfo('Cmd is ' :cmd, DSJ.ME )


      Call DSExecute('UNIX',cmd,result,status)
      Call DSLogInfo('result is' :result, DSJ.ME )
      if status <> 0
      then 
          Call DSLogFatal('SqlPlus error when executing following statement: ' : pSql, 'rtGetOraProcessingDates')
      end

  !-!   Del result<DCount(result,@FM)> 
  !-!   Del result<DCount(result,@FM)>

  !-! as we called SQLPlus without column headings the value in 'result' is what we need. There may be more than one result so make them into one string (will fail if too many results but for our usage this should not occur)

  !-!    Convert @FM to '^' In result


  !-!   row=Trim(result,' ','B')
      
      pLastProcessingDate=Trim(FIELD(result,'|',1),' ','B')
      pNextProcessingDate=Trim(FIELD(result,'|',2),' ','B')
      Call DSLogInfo('NextProcessingDate is ' :pNextProcessingDate, DSJ.ME )
      Call DSLogInfo('LastProcessingDate is ' :pLastProcessingDate, DSJ.ME )

Return(0)

RETURN(Ans)
=+=+=+=
      Catalog "DSU.rtGetOraProcessingDates"
      JobType "0"
      Arguments "CRtnArgument"
      BEGIN DSSUBRECORD
         Name "pNextProcessingDate"
         Desc "Next Processing Date"
         SqlType "1"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "pLastProcessingDate"
         Desc "Last processing Date"
         SqlType "1"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "pUser"
         Desc "User name"
         SqlType "1"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "pApplicationCode"
         Desc "Application code"
         SqlType "1"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "pFlowCode"
         Desc "Flow code"
         SqlType "1"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      SkipOnNull "0"
      InvocationMethod "0"
   END DSRECORD
   BEGIN DSUBINARY
      Identifier "DSU.rtGetOraProcessingDates"
      B1 "E1DA00B5050001003A00060000000000180018005900590041001800FC7F00002001000029000000"
      B41 "19000000FD0100004E80000074010000740100003904000093090000C50900000000000000000000"
      B81 "08000000F800410029000401050042003F004300400044002A000C013A0046002A002B00F8004700"
      B121 "2C001E00450002002B002C000401050048002A0049003E0041002D003A004A002D002E00F8004700"
      B161 "2F001E00450002002E002F00F8004C0030001E004B00040030002D00310032003A004D0031003300"
      B201 "F800470034001E004500020033003400060132004E004F00DE024F00AC0000003A0051002A003500"
      B241 "F800520036001E005000020035003600840031005300470047004F004E024F00540055003D008400"
      B281 "31005300560047004F004E024F00540055003C003A0057003C003700F800470038001E0045000200"
      B321 "370038003A0058003D003900F80047003A001E004500020039003A00F8004E003B005C01F8002900"
      B361 "3B005C01F80041003B005C010053454C45435420544F5F43484152284C4153545F50524F43455353"
      B401 "494E475F544D532C27595959592D4D4D2D444420484832343A4D493A535327297C7C277C277C7C54"
      B441 "4F5F43484152284E4558545F50524F43455353494E475F544D532C27595959592D4D4D2D44442048"
      B481 "4832343A4D493A535327297C7C277C277C7C464C4F575F43442046524F4D2043434C5F4341535F4F"
      B521 "574E45522E464C4F575F535441545553205748455245204150504C49434154494F4E5F43443D2727"
      B561 "20414E4420464C4F575F43443D27273B44534C6F67496E666F53514C206973206563686F202D6E65"
      B601 "2022736574206C696E6573697A6520313030305C6E73657420666565646261636B206F66665C6E73"
      B641 "6574204E657770616765206E6F6E655C6E7365742068656164696E67206F66665C6E736574207469"
      B681 "6D696E67206F66665C6E736574206563686F206F66665C6E2022207C2073716C706C7573202D7320"
      B721 "2F40436D6420697320445345786563757465554E4958726573756C7420697344534C6F6746617461"
      B761 "6C53716C506C7573206572726F72207768656E20657865637574696E6720666F6C6C6F77696E6720"
      B801 "73746174656D656E743A2072744765744F726150726F63657373696E6744617465737C20424E6578"
      B841 "7450726F63657373696E6744617465206973204C61737450726F63657373696E6744617465206973"
      B881 "2001000000000100000001BA00000001000000010F000000BB0000000102000000CA000000040900"
      B921 "0000CC0000000107000000D500000003010000000171000000DC00000001110000004D0100000107"
      B961 "0000005E01000004090000006501000001040000006E010000010900000072010000030000000005"
      B1001 "00000000040A0000007B0100000132000000850100000117000000B70100000101000000CE010000"
      B1041 "0101000000CF0100000101000000D001000003020000000116000000D10100000116000000E70100"
      B1081 "00000000000000000000000000080000000100010000000000100000000200010000000000180000"
      B1121 "0003000100000000002000000004000100000000002A000000050001000000000033000000060001"
      B1161 "00000000003D00000007000100000000004600000008000100000000004E00000009000100000000"
      B1201 "00580000000A00010000000000680000000B00010000000000720000000C000100000000007C0000"
      B1241 "000D00010000000000840000000E000100000000008E0000000F0001000000000098000000100001"
      B1281 "0000000000A00000001100010000000000AD0000001200010000000000BA00000013000100000000"
      B1321 "00C40000001400010000000000D00000001500010000000000DE0000001600010000000000EA0000"
      B1361 "001700010000000000F20000001800010000000000FA0000001900010000000000050100001A0001"
      B1401 "00000000000B0100001B00010000000000150100001C00010000000000200100001D000100000000"
      B1441 "002A0100001E00010000000000350100001F000100000000003E0100002000010000000000430100"
      B1481 "0021000100000000004D010000220001000000000053010000230001000000000060010000240001"
      B1521 "00000000006701000025000100000000006F01000026000100000000007801000027000100000000"
      B1561 "008001000028000100000000008801000029000100000000008C0100002A00010000000000910100"
      B1601 "002B00010000000000980100002C000100000000009F0100002D00010000000000A30100002E0001"
      B1641 "0000000000AA0100002F00010000000000B10100003000010000000000B801000031000100000000"
      B1681 "00BF0100003200010000000000C60100003300010000000000CD0100003400010000000000D40100"
      B1721 "003500010000000000DB0100003600010000000000E20100003700010000000000E9010000380001"
      B1761 "0000000000F00100003900010000000000F70100003A00010000000000FE0100003B000300000000"
      B1801 "00050200003C00040000000000190200003D000400000000002D0200003E00040000000000330200"
      B1841 "003F00040000000000440200004000040000000000244D4154524958004A6F624E616D6500457272"
      B1881 "4D6F64650052746E4E616D65004A6F6248616E646C6500496E666F547970650053746167654E616D"
      B1921 "65004C696E6B4E616D65004576656E7449640052756E4E756D626572004576656E74547970654669"
      B1961 "6C746572004576656E745479706500537461727454696D6500456E6454696D65004D61784E756D62"
      B2001 "657200506172616D4E616D65005661724E616D650043757374496E666F4E616D65004576656E744D"
      B2041 "657373616765004D7367537472696E67005265706F72744C6576656C004C696E6553657061726174"
      B2081 "6F72004D736754656D706C617465004172674C6973740052756E4D6F646500506172616D65746572"
      B2121 "730056616C7565004C696D697454797065004C696D697456616C75650051756575654E616D650050"
      B2161 "6172616D56616C75650056617256616C756500436F6465004572726F72436F6465004A6F62494400"
      B2201 "54726163654F7074696F6E7300706F72744E6F0054696D656F757400537562724E616D6500537562"
      B2241 "72417267004F7074696F6E7300416E73007053716C005F5430303031005F543030303200636D6400"
      B2281 "5F5430303033005F5430303034005F543030303500726573756C7400737461747573005F54303030"
      B2321 "36005F5430303037005F5430303038005F5430303039005F5430303130005F5430303131005F5430"
      B2361 "303132005F5430303133005F543030303000704E65787450726F63657373696E674461746500704C"
      B2401 "61737450726F63657373696E674461746500705573657200704170706C69636174696F6E436F6465"
      B2441 "0070466C6F77436F646500FCFF0000FEFF0600FEFF1200FBFF18001000FDFF180014001800FEFF10"
      B2481 "00F3FF1800160016001800FEFF1800FEFF080008002F6170706C2F647370726F6A656374732F4450"
      B2521 "5F4F535F5050412F4453555F42502F4453552E72744765744F726150726F63657373696E67446174"
      B2561 "65730000"
   END DSUBINARY
   BEGIN DSRECORD
      Identifier "rtGetProcessingDates"
      DateModified "2021-12-07"
      TimeModified "15.19.32"
      OLEType "CRoutine"
      Readonly "0"
      Category "\\Routines"
      ShortDesc "Run a SQL command using NZSQL"
      Description "20150713 - Initial version of NZSQL call"
      RoutineType "0"
      ArgCount "8"
      Built "1"
      SourceFlag "1"
      Version "2.0.0"
      TestValues "''\(1B)''\(1B)D_NZ_CCL\(1B)BR47KZ\(1B)MEImei29\(1B)netezza-dta-floating.itc.intranet\(1B)NL_IS_PPA\(1B)MDM_M1"
      Source =+=+=+=
FUNCTION rtGetProcessingDates(pNextProcessingDate,pLastProcessingDate,pDbName,pUser,pPwd,pServer,pApplicationCode,pFlowCode)
#Include DSINCLUDE JOBCONTROL.H

      Ans       = ''

      pSql = "SELECT LAST_PROCESSING_TMS, NEXT_PROCESSING_TMS FROM CAS.FLOW_STATUS WHERE APPLICATION_CD = '" : pApplicationCode : "' AND FLOW_CD = '" : pFlowCode : "'"; 

      Call DSLogInfo('SQL is ' : pSql, DSJ.ME )


  !-! run NZSQL command
      cmd        = 'nzsql -host ' : pServer : ' -u ' : pUser : ' -db ' : pDbName : ' -c ' : DQuote( pSql ) : ' -t'

      Call DSExecute('UNIX', cmd, result, status )

      if status <> 0
      then 
          Call DSLogFatal('nzsql error when executing following statement: ' : pSql, 'rtGetProcessingDates')
      end

      Del result<DCount( result, @FM )> 
      Del result<DCount( result, @FM )>

  !-! as we called NZSQL without column headings the value in 'result' is what we need. There may be more than one result so make them into one string (will fail if too many results but for our usage this should not occur)

      Convert @FM to '^' In result


      row =  Trim(result, ' ', 'B' )
      pLastProcessingDate = Trim(FIELD(result, '|', 1), ' ', 'B' )
      pNextProcessingDate = Trim(FIELD(result, '|', 2), ' ', 'B' )

      Call DSLogInfo('NextProcessingDate is ' : pNextProcessingDate, DSJ.ME )
      Call DSLogInfo('LastProcessingDate is ' : pLastProcessingDate, DSJ.ME )

Return(0)

RETURN(Ans)
=+=+=+=
      Catalog "DSU.rtGetProcessingDates"
      JobType "0"
      Arguments "CRtnArgument"
      BEGIN DSSUBRECORD
         Name "pNextProcessingDate"
         Desc "Next Processing Date"
         SqlType "1"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "pLastProcessingDate"
         Desc "Last processing Date"
         SqlType "1"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "pDbName"
         Desc "Database name"
         SqlType "1"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "pUser"
         Desc "User name"
         SqlType "1"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "pPwd"
         Desc "Password"
         SqlType "1"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "pServer"
         Desc "Hostname"
         SqlType "1"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "pApplicationCode"
         Desc "Application code"
         SqlType "1"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "pFlowCode"
         Desc "Flow code"
         SqlType "1"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      SkipOnNull "0"
      InvocationMethod "0"
   END DSRECORD
   BEGIN DSUBINARY
      Identifier "DSU.rtGetProcessingDates"
      B1 "E1DA00B50500010037000900000000001D001D005E005E0041001D00FC7F00004E01000026000000"
      B41 "1F000000270100000D730000A2010000A2010000B203000009090000470900000000000000000000"
      B81 "08000000F800410029000401050042003F004300400044002A000C013A0046002A002B00F8004700"
      B121 "2C001E00450002002B002C0040012A004C000401090048003E0049003C004A003B004B004C004D00"
      B161 "2D00F8004F002E001E004E0004002E002D002F0030000601300050004C00DE024C0000008C000000"
      B201 "3A0052002A003100F800530032001E005100020031003200260054004C0050002F004C0055005E00"
      B241 "2F005500500050002F0026005400550050002F00550056005E002F005600500050002F0026005400"
      B281 "56003C00560057002F002F004E022F0058005900330084002F005A004700470056004E0256005800"
      B321 "59003A0084002F005A005B00470056004E0256005800590039003A005C0039003400F80047003500"
      B361 "1E0045000200340035003A005D003A003600F800470037001E004500020036003700F80050003800"
      B401 "5C01F800290038005C01F800410038005C010053454C454354204C4153545F50524F43455353494E"
      B441 "475F544D532C204E4558545F50524F43455353494E475F544D532046524F4D204341532E464C4F57"
      B481 "5F535441545553205748455245204150504C49434154494F4E5F4344203D20272720414E4420464C"
      B521 "4F575F4344203D20272744534C6F67496E666F53514C206973206E7A73716C202D686F737420202D"
      B561 "7520202D646220202D6320202D74445345786563757465554E495844534C6F67466174616C6E7A73"
      B601 "716C206572726F72207768656E20657865637574696E6720666F6C6C6F77696E672073746174656D"
      B641 "656E743A20727447657450726F63657373696E6744617465735E20427C4E65787450726F63657373"
      B681 "696E6744617465206973204C61737450726F63657373696E67446174652069732001000000000100"
      B721 "0000015D0000000100000001110000005E00000001010000006F0000000409000000700000000107"
      B761 "000000790000000301000000010C0000008000000001040000008C00000001050000009000000001"
      B801 "0400000095000000050000000001030000009900000004090000009C0000000104000000A5000000"
      B841 "0300000000040A000000A90000000130000000B30000000114000000E300000003FE000000050100"
      B881 "000005020000000101000000F70000000101000000F80000000101000000F90000000101000000FA"
      B921 "00000003020000000116000000FB0000000116000000110100000000000000000000000000000800"
      B961 "00000100010000000000100000000200010000000000180000000300010000000000200000000400"
      B1001 "0100000000002A00000005000100000000003300000006000100000000003D000000070001000000"
      B1041 "00004600000008000100000000004E0000000900010000000000580000000A000100000000006800"
      B1081 "00000B00010000000000720000000C000100000000007C0000000D00010000000000840000000E00"
      B1121 "0100000000008E0000000F00010000000000980000001000010000000000A0000000110001000000"
      B1161 "0000AD0000001200010000000000BA0000001300010000000000C40000001400010000000000D000"
      B1201 "00001500010000000000DE0000001600010000000000EA0000001700010000000000F20000001800"
      B1241 "010000000000FA0000001900010000000000050100001A000100000000000B0100001B0001000000"
      B1281 "0000150100001C00010000000000200100001D000100000000002A0100001E000100000000003501"
      B1321 "00001F000100000000003E01000020000100000000004301000021000100000000004D0100002200"
      B1361 "01000000000053010000230001000000000060010000240001000000000067010000250001000000"
      B1401 "00006F01000026000100000000007801000027000100000000008001000028000100000000008801"
      B1441 "000029000100000000008C0100002A00010000000000910100002B00010000000000980100002C00"
      B1481 "0100000000009F0100002D00010000000000A30100002E00010000000000AA0100002F0001000000"
      B1521 "0000B10100003000010000000000B80100003100010000000000BF0100003200010000000000C601"
      B1561 "00003300010000000000CA0100003400010000000000D10100003500010000000000D80100003600"
      B1601 "010000000000DF0100003700010000000000E60100003800030000000000ED010000390004000000"
      B1641 "0000010200003A00040000000000150200003B000400000000001D0200003C000400000000002302"
      B1681 "00003D00030000000000280200003E00040000000000300200003F00040000000000410200004000"
      B1721 "040000000000244D4154524958004A6F624E616D65004572724D6F64650052746E4E616D65004A6F"
      B1761 "6248616E646C6500496E666F547970650053746167654E616D65004C696E6B4E616D65004576656E"
      B1801 "7449640052756E4E756D626572004576656E745479706546696C746572004576656E745479706500"
      B1841 "537461727454696D6500456E6454696D65004D61784E756D62657200506172616D4E616D65005661"
      B1881 "724E616D650043757374496E666F4E616D65004576656E744D657373616765004D7367537472696E"
      B1921 "67005265706F72744C6576656C004C696E65536570617261746F72004D736754656D706C61746500"
      B1961 "4172674C6973740052756E4D6F646500506172616D65746572730056616C7565004C696D69745479"
      B2001 "7065004C696D697456616C75650051756575654E616D6500506172616D56616C7565005661725661"
      B2041 "6C756500436F6465004572726F72436F6465004A6F6249440054726163654F7074696F6E7300706F"
      B2081 "72744E6F0054696D656F757400537562724E616D650053756272417267004F7074696F6E7300416E"
      B2121 "73007053716C005F5430303031005F543030303200636D64005F543030303300726573756C740073"
      B2161 "7461747573005F5430303034005F543030303500726F77005F5430303036005F5430303037005F54"
      B2201 "30303038005F5430303039005F543030303000704E65787450726F63657373696E67446174650070"
      B2241 "4C61737450726F63657373696E6744617465007044624E616D650070557365720070507764007053"
      B2281 "657276657200704170706C69636174696F6E436F64650070466C6F77436F646500FCFF0000FEFF06"
      B2321 "00FEFF1200FCFF1800FEFF1E00FEFF1400FEFF1200FDFF18001A00FCFF1A00FDFF10000A001600FE"
      B2361 "FF16001800FEFF1800FEFF080008002F6170706C2F647370726F6A656374732F4E4C5F49535F5345"
      B2401 "432F4453555F42502F4453552E727447657450726F63657373696E6744617465730000"
   END DSUBINARY
   BEGIN DSRECORD
      Identifier "rtLinkCount"
      DateModified "2021-12-07"
      TimeModified "15.19.32"
      OLEType "CRoutine"
      Readonly "0"
      Category "\\Routines"
      RoutineType "0"
      ArgCount "4"
      Built "1"
      SourceFlag "1"
      Version "2.0.0"
      Source =+=+=+=
FUNCTION rtLinkCount(JobName,StageName,LinkName,pResult)
#Include DSINCLUDE JOBCONTROL.H

Ans = 0

JOB_HAN = DSAttachJob(JobName,DSJ.ERRWARN)
Lnk_Cnt = DSGetLinkInfo(JOB_HAN,StageName,LinkName,DSJ.LINKROWCOUNT)
JOB = DSDetachJob(JOB_HAN)
pResult = Lnk_Cnt
Return(Ans)
RETURN(Ans)
=+=+=+=
      Catalog "DSU.rtLinkCount"
      JobType "0"
      Arguments "CRtnArgument"
      BEGIN DSSUBRECORD
         Name "JobName"
         SqlType "0"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "StageName"
         SqlType "1"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "LinkName"
         SqlType "1"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "pResult"
         SqlType "1"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      SkipOnNull "0"
      InvocationMethod "0"
   END DSRECORD
   BEGIN DSUBINARY
      Identifier "DSU.rtLinkCount"
      B1 "E1DA00B5050001002B00050000000000070007003800380031000700FF7F0000560000000B000000"
      B41 "0A00000024000000676B0000AA000000AA000000010100000A0500001E0500000000000000000000"
      B81 "08000000F80031002600F800330028009601320002002D0028002700F80035002A00960134000400"
      B121 "27002E002F002A00290096013600010027002B00F80029003000F80026002C005C01F80026002C00"
      B161 "5C01F80037002C005C010044534174746163684A6F6244534765744C696E6B496E666F4453446574"
      B201 "6163684A6F620300000000040B000000010000000302000000040D0000000C000000030300000004"
      B241 "0B000000190000000100000000240000000000000000000000000000000800000001000100000000"
      B281 "001000000002000100000000001800000003000100000000002200000004000100000000002B0000"
      B321 "0005000100000000003300000006000100000000003D00000007000100000000004D000000080001"
      B361 "0000000000570000000900010000000000610000000A00010000000000690000000B000100000000"
      B401 "00730000000C000100000000007D0000000D00010000000000850000000E00010000000000920000"
      B441 "000F000100000000009F0000001000010000000000A90000001100010000000000B5000000120001"
      B481 "0000000000C30000001300010000000000CF0000001400010000000000D700000015000100000000"
      B521 "00DF0000001600010000000000EA0000001700010000000000F00000001800010000000000FA0000"
      B561 "001900010000000000050100001A000100000000000F0100001B000100000000001A0100001C0001"
      B601 "0000000000230100001D00010000000000280100001E00010000000000320100001F000100000000"
      B641 "003801000020000100000000004501000021000100000000004C0100002200010000000000540100"
      B681 "0023000100000000005D01000024000100000000006501000025000100000000006D010000260001"
      B721 "00000000007101000027000100000000007901000028000100000000008001000029000100000000"
      B761 "00880100002A000100000000008F0100002B00010000000000930100002C000300000000009A0100"
      B801 "002D00040000000000A20100002E00040000000000AC0100002F00040000000000B5010000300004"
      B841 "0000000000244D4154524958004572724D6F64650052746E4E616D65004A6F6248616E646C650049"
      B881 "6E666F54797065004576656E7449640052756E4E756D626572004576656E745479706546696C7465"
      B921 "72004576656E745479706500537461727454696D6500456E6454696D65004D61784E756D62657200"
      B961 "506172616D4E616D65005661724E616D650043757374496E666F4E616D65004576656E744D657373"
      B1001 "616765004D7367537472696E67005265706F72744C6576656C004C696E65536570617261746F7200"
      B1041 "4D736754656D706C617465004172674C6973740052756E4D6F646500506172616D65746572730056"
      B1081 "616C7565004C696D697454797065004C696D697456616C75650051756575654E616D650050617261"
      B1121 "6D56616C75650056617256616C756500436F6465004572726F72436F6465004A6F62494400547261"
      B1161 "63654F7074696F6E7300706F72744E6F0054696D656F757400537562724E616D6500537562724172"
      B1201 "67004F7074696F6E7300416E73004A4F425F48414E005F5430303031004C6E6B5F436E74005F5430"
      B1241 "303032004A4F42005F5430303030004A6F624E616D650053746167654E616D65004C696E6B4E616D"
      B1281 "650070526573756C7400FCFF0000FEFF0600120016000A000600080008002F6170706C2F64737072"
      B1321 "6F6A656374732F44505F49535F4241532F4453555F42502F4453552E72744C696E6B436F756E7400"
      B1361 "00"
   END DSUBINARY
   BEGIN DSRECORD
      Identifier "rtSetUserStatus"
      DateModified "2021-12-07"
      TimeModified "15.19.33"
      OLEType "CRoutine"
      Readonly "0"
      Category "\\Routines"
      ShortDesc "rtSetUserStatus"
      RoutineType "0"
      ArgCount "1"
      Built "1"
      SourceFlag "1"
      Author "Gilbert Sopakuwa"
      Version "2.0.0"
      TestValues "testje"
      Source =+=+=+=
FUNCTION rtSetUserStatus(Arg1)
$INCLUDE DSINCLUDE JOBCONTROL.H 
Call DSSetUserStatus(Arg1) 
Ans=0


RETURN(Ans)
=+=+=+=
      Catalog "DSU.rtSetUserStatus"
      JobType "0"
      Arguments "CRtnArgument"
      BEGIN DSSUBRECORD
         Name "Arg1"
         SqlType "0"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      SkipOnNull "0"
      InvocationMethod "0"
   END DSRECORD
   BEGIN DSUBINARY
      Identifier "DSU.rtSetUserStatus"
      B1 "E1DA00B5050001002900020000000000030003002F002F002C000300FD7F00001E00000007000000"
      B41 "0600000010000000D49C0000720000007200000099000000410400004D0400000000000000000000"
      B81 "080000001E002C0001002B00F8002D002900F80029002A005C01F8002E002A005C01004453536574"
      B121 "55736572537461747573040F00000001000000030000000001000000001000000000000000000000"
      B161 "00000000000800000001000100000000001000000002000100000000001800000003000100000000"
      B201 "002000000004000100000000002A00000005000100000000003300000006000100000000003D0000"
      B241 "0007000100000000004600000008000100000000004E0000000900010000000000580000000A0001"
      B281 "0000000000680000000B00010000000000720000000C000100000000007C0000000D000100000000"
      B321 "00840000000E000100000000008E0000000F00010000000000980000001000010000000000A00000"
      B361 "001100010000000000AD0000001200010000000000BA0000001300010000000000C4000000140001"
      B401 "0000000000D00000001500010000000000DE0000001600010000000000EA00000017000100000000"
      B441 "00F20000001800010000000000FA0000001900010000000000050100001A000100000000000B0100"
      B481 "001B00010000000000150100001C00010000000000200100001D000100000000002A0100001E0001"
      B521 "0000000000350100001F000100000000003E01000020000100000000004301000021000100000000"
      B561 "004D0100002200010000000000530100002300010000000000600100002400010000000000670100"
      B601 "0025000100000000006F010000260001000000000078010000270001000000000080010000280001"
      B641 "00000000008801000029000100000000008C0100002A00030000000000930100002B000400000000"
      B681 "00244D4154524958004A6F624E616D65004572724D6F64650052746E4E616D65004A6F6248616E64"
      B721 "6C6500496E666F547970650053746167654E616D65004C696E6B4E616D65004576656E7449640052"
      B761 "756E4E756D626572004576656E745479706546696C746572004576656E7454797065005374617274"
      B801 "54696D6500456E6454696D65004D61784E756D62657200506172616D4E616D65005661724E616D65"
      B841 "0043757374496E666F4E616D65004576656E744D657373616765004D7367537472696E6700526570"
      B881 "6F72744C6576656C004C696E65536570617261746F72004D736754656D706C617465004172674C69"
      B921 "73740052756E4D6F646500506172616D65746572730056616C7565004C696D697454797065004C69"
      B961 "6D697456616C75650051756575654E616D6500506172616D56616C75650056617256616C75650043"
      B1001 "6F6465004572726F72436F6465004A6F6249440054726163654F7074696F6E7300706F72744E6F00"
      B1041 "54696D656F757400537562724E616D650053756272417267004F7074696F6E7300416E73005F5430"
      B1081 "303030004172673100FDFF00000800FDFF060008002F6170706C2F647370726F6A656374732F4E4C"
      B1121 "5F49535F424C532F4453555F42502F4453552E7274536574557365725374617475730000"
   END DSUBINARY
   BEGIN DSRECORD
      Identifier "XCOrtrUtilityRunMasterJob"
      DateModified "2021-11-23"
      TimeModified "11.44.56"
      OLEType "CRoutine"
      Readonly "0"
      Category "\\CommonCore\\JobControl\\Routine"
      ShortDesc "Run the specified master job (starting point of the flow). The result is 0 for a successful run, and 1 for a failed run (crashed/aborted)."
      Description =+=+=+=
This routine will excute master job that is passed as a parameter to the xco_launch_job.sh
Parameters to routine: PM_MASTER and PM_EXT_PARAMS

Parameter binding is performed to check if the parameters have been correctly set.
If MPB=1, then if the parameter names are incorrectly passed to the job via the  xco_launch_job.sh, the routine will stop execution.
If MPB=0, then if the parameter names are incorrectly passed to the job via the  xco_launch_job.sh, the routine will issue a warning only.

Optionally, the routine allows the job warning limit and row count limit to be set (default to 0, meaning no limits to be enforced).

Modified by: S Dsouza
Modification date: 2016-09-02


CHANGE HISTORY
2016-09-02     V0.01     Sonia Dsouza          Initial version
2017-01-30     V0.02     Bogdan Babor         [DLF-986/987] - New parameter delimiter ":=:" instead of ":"
                                                                     [DLF-893] Enable passing parameter value with spaces
2017-06-08     V0.03     Sonia Dsouza          [DLF-1398] - Enable Restartibility, if PM_RESTART=0 then reset the job else do not reset.
                                                                     Removed the check for multiple invocation of a job.
2017-07-05     V0.04     Sonia Dsouza          [DLF-1686] - Check if master job is multi instance, if PM_MULTI_INST=Y then check if the master job is multi intance else if N then no check.
                                                                     

=+=+=+=
      RoutineType "0"
      ArgCount "9"
      Built "1"
      SourceFlag "1"
      Vendor "IBM Corporation"
      Author "IBM Corporation"
      Version "2.0.2"
      Copyright "Licensed Materials - Property of IBM, (C) Copyright IBM Corp. 1997, 2014 All Rights Reserved."
      TestValues "FWK_SQ_Start_Flow.14858555870268107171000000568125259420213571529999\(1B)1\(1B)30\(1B)PM_MASTER:=:SPL_OS_SQ_Sample_DB_2a|PM_EXT_PARAMS:=:PM_BUSINESS_DATE=20160303,PM_DUMMY=Y\(1B)\(1B)/opt/xco/dev/v00001\(1B)etc/configuration\(1B)var/log\(1B)\(1B)\(9)TestJob.1111112233\(1B)1\(1B)30\(1B)PM_STATUS:Status|PM_TEST:Test1\(1B)\(1B)/opt/xco/dev/v00001\(1B)etc/configuration\(1B)var/log\(1B)\(1B)\(9)TestJob.1111112245\(1B)1\(1B)30\(1B)PM_STATUS:=:Status|PM_TEST1:=:Test1\(1B)1111112245\(1B)/opt/xco/dev/v00001\(1B)etc/configuration\(1B)var/log\(1B)\(1B)\(9)DBNL_PROP_SQ.537273642877878\(1B)1\(1B)30\(1B)PM1:=:file1.txt|PM2:=:file2.txt\(1B)537273642877878\(1B)/opt/IBM/InformationServer/Server/CommonCore/lab06/v00001\(1B)etc/configuration\(1B)var/log\(1B)1\(1B)Y\(9)DBNL_PROP_SQ3\(1B)1\(1B)30\(1B)PM1:=:file1.txt|PM2:=:file2.txt\(1B)3412534535\(1B)/opt/IBM/InformationServer/Server/CommonCore/lab06/v00001\(1B)etc/configuration\(1B)var/log\(1B)1\(1B)N"
      Source =+=+=+=
FUNCTION XCOrtrUtilityRunMasterJob(PM_JOB_NAME,PM_ROW_LIMIT,PM_WARNING_LIMIT,PM_EXT_PARAMS,PM_INV_ID,XCO_HOME,XCO_CONFIG_DIR,XCO_LOG_DIR,PM_MULTI_INST)
*
* Demonstrate how to run a job within the GUI development enviroment.  Arguments may
* be passed in. The result is a dynamic array with the resulting status and run 
* statistics (row counts for every link on every stage in the job)  
*

$INCLUDE DSINCLUDE JOBCONTROL.H

    Equate RoutineName To 'XCOrtrUtilityRunMasterJob'
    Equate RunJobName to PM_JOB_NAME ; *Refers to the high level PM_MASTER job
    Equate InvId to PM_INV_ID 

    Dim Param(100,2) ;* Limited to max of 100 parameters 

    Deffun DSRMessage(A1, A2, A3) Calling "*DataStage*DSR_MESSAGE"
    Deffun DSRTimestamp Calling "DSR_TIMESTAMP"

    JobHandle = ''
    Info = ''
    ExtParams = trim(PM_EXT_PARAMS,'"','B')  ; *remove surrounding quotes from parameter
    ExtParamsChild = Field(Field(ExtParams, '|', 2), ':',2) ; *Get the parameter list for the low level job
	
    RowLimit = If PM_ROW_LIMIT = '' Then 0 Else PM_ROW_LIMIT
    WarnLimit = If PM_WARNING_LIMIT = '' Then 0 Else PM_WARNING_LIMIT

    ExitCodeArray = ''
    ExitCodeArrayRows = 0
    ParamCount = 0
    ParamChildCount = 0 ; *New functionality for low level job
    Ans = ''

* --------------------------------------------------
* Loading DataStage exitcode Map (xco_jobcontrol_exitcodes.cfg)
* --------------------------------------------------
      Call DSLogInfo ("Loading DataStage exitcode Map", RoutineName)

      XcoCfgPathName = XCO_HOME : '/' : XCO_CONFIG_DIR
      XcoCfgFileName = 'xco_jobcontrol_exitcodes.cfg'

          OpenPath XcoCfgPathName To XcoCfgBuffer Then
            Read XcoCfgRecord From XcoCfgBuffer, XcoCfgFileName Then
             RowCount = DCount(XcoCfgRecord, @AM)
              For RowNumber = 1 To RowCount
               * Ignore header and commented lines
                If Trimf(XcoCfgRecord<RowNumber>)[1,1] <> "#" And RowNumber > 1 Then 
                   ExitCodeArrayRows = ExitCodeArrayRows + 1
                   ExitCodeArray<ExitCodeArrayRows,1> = Field(XcoCfgRecord<RowNumber>, ',', 1)        ; * DataStage Exit Code
                   ExitCodeArray<ExitCodeArrayRows,2> = Field(XcoCfgRecord<RowNumber>, ',', 2)        ; * Scheduler Exit Code
                   ExitCodeArray<ExitCodeArrayRows,3> = Field(XcoCfgRecord<RowNumber>, ',', 3)        ; * Status Description
                End
             Next RowNumber
             End Else
             Message = 'The file ' : XcoCfgFileName : ' does not exist or cannot be read.'
             Ans = 1
             Go End
           End
           Close FwkCfgBuffer
           End Else
           Message = 'The path ' : XcoCfgPathName : ' does not exist or cannot be read. Ensure parameter XCO_HOME value is correct.'
           Ans = 1
           Go End
           End

* --------------------------------------------------
* Loading Mandatory Parameter Binding value (xco_jobcontrol_settings.cfg)
* --------------------------------------------------
      Call DSLogInfo ("Loading DataStage exitcode Map", RoutineName)
	  
      XcoStngFileName = XcoCfgPathName : '/' : 'xco_jobcontrol_settings.cfg'
      Statement = "SH -c " : DQuote("cat ":XcoStngFileName:"| grep -i MPB | head -1")
      Execute Statement Capturing Results
      XcoStngVal = Field(Results,'=',2)[1,1]
	  If Trim(XcoStngVal) = '' Then 
            XcoStngVal = 1 
         End
      Message = 'Mandatory Parameter Binding Val is ' : XcoStngVal : ' check'
      Call DSLogInfo(Message, RoutineName)

         	   		   
* --------------------------------------------------
* Get job handle for High level sequence
* --------------------------------------------------
    JobStartTime = DSRTimestamp()
    JobHandle = DSAttachJob(RunJobName,  DSJ.ERRNONE)
    If (Not(JobHandle)) Then
       Message = 'Error attaching to highlevel job. Please ensure job exists and is compiled.'
       Ans = 1
       Go End
    End

If PM_MULTI_INST = "Y" Then
    Status = DSGetJobInfo(JobHandle, DSJ.JOBMULTIINVOKABLE) 
   If (Not(Status)) Then
     Message = 'Error, job is not multiple invocation enabled.'
      Ans = 1
       Go End
   End
End

*   Message = DSRMessage('DSTAGE_TRX_I_0014', 'Attaching job for processing - %1 - Status of Attachment = %2', RunJobName:@FM:JobHandle )
    Message = 'Attached to high level job ': RunJobName: '. Job Handle = ':JobHandle
    Call DSLogInfo(Message, RoutineName)

* Check job status and reset the job, if required
*    Status = DSGetJobInfo(JobHandle, DSJ.JOBSTATUS)
*    If (Status = DSJS.RUNFAILED Or Status = DSJS.CRASHED) And PM_RESTART = 0 Then
*      ErrCode = DSRunJob(JobHandle, DSJ.RUNRESET)
*      Call DSLogInfo("Job ":RunJobName:" has been reset", "DSRunJob")
*      JobStartTime = DSRTimestamp()
*      JobHandle = DSAttachJob(RunJobName, DSJ.ERRFATAL)
*    End

* --------------------------------------------------
* Load parameter/value array for High level Sequence
* --------------------------------------------------
* Optional parameter/value pairs
    If ExtParams <> '' Then
       Message = 'Parsing external job parameters of ' : RunJobName :   ' ,argument PM_EXT_PARAMS:- ' : ExtParams
       Call DSLogInfo(Message, RoutineName)
       ExtParamsCount = DCount(ExtParams, '|')
       For ExtParamNum = 1 To ExtParamsCount
         ExtParamPair = Field(ExtParams, '|', ExtParamNum)
         If DCount(ExtParamPair, ':=:') <> 2 Then
            Message = 'ERROR: "': ExtParamPair :'". Invalid entry in optional parameter string. Review and retry.'
            Ans = 1
            Go End
         End Else
			SeparatorIndex = Index(ExtParamPair, ':=:', 1)
		    Message = 'Success: "': ExtParamPair :'". Valid.'
			Call DSLogInfo(Message, RoutineName)
			
            * load valid parameter/value pair to array
            ParamCount = ParamCount + 1
			Param(ParamCount,1) = Left(ExtParamPair, SeparatorIndex-1)
			Param(ParamCount,2) = Right(ExtParamPair, Len(ExtParamPair)-SeparatorIndex-2)

         End
       Next ExtParamNum
    End

* --------------------------------------------------
* Read parameter/value array and set job parameter values for High Level Sequence
* --------------------------------------------------
For ParamNum = 1 To ParamCount
       ErrCode = DSSetParam(JobHandle, Param(ParamNum,1),Param(ParamNum,2))
       If ErrCode Then
	   	  If Trim(XcoStngVal) = 0 Then   
          Message = 'WARNING setting value for parameter of ': RunJobName : ', ': Param(ParamNum,1) :'. Ensure prameter name is correct and is defined in the job.'
          Ans = 0 
          Call DSLogInfo(Message, RoutineName)	
          End Else
          Message = 'ERROR setting value for parameter of ': RunJobName : ', ': Param(ParamNum,1) :'. Ensure prameter name is correct and is defined in the job.'
		  Ans = 1
	      Go End
	      End 
       End Else
          Message = 'Value set for parameter of ': RunJobName : ' is ' :  Param(ParamNum,1) :'=':Param(ParamNum,2)
          Call DSLogInfo(Message, RoutineName)
       End
Next ParamNum


* --------------------------------------------------
* Run the high level job
* --------------------------------------------------
* Set job limits
    LimitErr = DSSetJobLimit(JobHandle, DSJ.LIMITROWS, RowLimit)
    LimitErr = DSSetJobLimit(JobHandle, DSJ.LIMITWARN, WarnLimit)

    Message = 'Starting job execution ': RunJobName: '. Job Handle = ':JobHandle
    Call DSLogInfo(Message, RoutineName)

    ErrCode = DSRunJob(JobHandle, DSJ.RUNNORMAL)
    ErrCode = DSWaitForJob(JobHandle)
    Status = DSGetJobInfo(JobHandle, DSJ.JOBSTATUS)
    JobEndTime = DSRTimestamp()

    Message = DSRMessage( 'DSTAGE_TRX_I_0020', 'RunJob Status=%1', Status )
    Call DSLogInfo(Message, RoutineName)

* --------------------------------------------------
* Map and report results
* --------------------------------------------------
    For RowNumber = 1 to ExitCodeArrayRows
     If Status = ExitCodeArray<RowNumber,1> Then
         Ans = ExitCodeArray<RowNumber,2>
         Message = ExitCodeArray<RowNumber,3>
        Exit
      End
    Next RowNumber

* Raise an error if returned Status was not found in ExitCodeArray
    If Ans = '' Then
       Message = 'Job execution request finished with unknown Status:*': Status
       Ans = 1
    End

End:
* Log Warning or Info type message based on result
    If Ans = 0 Then
       Call DSLogInfo(Message, RoutineName)
    End Else
      XcoErrFile = XCO_HOME : '/' : XCO_LOG_DIR : '/' : RoutineName : '_' : InvId : '.txt' 
      Statement = "SH -c " : DQuote("echo ":Message:" >> ":XcoErrFile:" ")
      Execute Statement Capturing Results
      Call DSLogWarn(Message, RoutineName)
    End
RETURN(Ans)
=+=+=+=
      Catalog "DSU.XCOrtrUtilityRunMasterJob"
      JobType "0"
      Arguments "CRtnArgument"
      BEGIN DSSUBRECORD
         Name "PM_JOB_NAME"
         Desc "Job name including invocation id"
         SqlType "0"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "PM_ROW_LIMIT"
         Desc "Row limit, 0 for unlimited"
         SqlType "0"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "PM_WARNING_LIMIT"
         Desc "Warning limit, 0 for unlimited"
         SqlType "0"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "PM_EXT_PARAMS"
         Desc "External parameters passed from shell script"
         SqlType "1"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "PM_INV_ID"
         Desc "Invocation Id"
         SqlType "1"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "XCO_HOME"
         Desc "Absolute path to common core home dir (inclusive of instance and version)"
         SqlType "1"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "XCO_CONFIG_DIR"
         Desc "Directory for configuration files  relative to XCO_HOME"
         SqlType "1"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "XCO_LOG_DIR"
         Desc "Directory for log files relative to XCO_HOME"
         SqlType "1"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "PM_MULTI_INST"
         Desc "Is Master job multi instance Y or N"
         SqlType "1"
         ColScale "0"
         IOType "0"
         Nullable "0"
         Occurs "0"
         KeyPosition "0"
         Precision "0"
         SignOption "0"
         SyncIndicator "0"
         LevelNo "0"
      END DSSUBRECORD
      SkipOnNull "0"
      InvocationMethod "0"
   END DSRECORD
   BEGIN DSUBINARY
      Identifier "DSU.XCOrtrUtilityRunMasterJob"
      B1 "E1DA00B50500010063000A000000000056005600C400C4006E005600FC7F0000C4060000D1000000"
      B41 "9400000039040000D61A00001807000018070000EB0D0000371700005F1800000000000000000000"
      B81 "08000000560029006E006F00F80070000400F80070002D004E026800710072002E0084002E007300"
      B121 "6F00740075008400750076006F0074002F006E00660070007500DE027500000054000000F8007700"
      B161 "3000C2005A000000F800660030006E00670070007500DE027500000078000000F80077003100C200"
      B201 "7E000000F80067003100F80070003200F80077003300F80077003400F80077003500F80070003600"
      B241 "F80079003700F8007A0038001E007800020037003800040103006A007B006B003900F8007C003A00"
      B281 "1C0139003B00C400E801000046013B003A003C00C4000000C401000026007D00750050003C007500"
      B321 "3D00F80077003E0098003E003D007400BC01000060003C003E00770077007500B80175007E00F000"
      B361 "7E00740074007F0006017F0080008100A6003E00740082000800810082008300DE028300B6010000"
      B401 "040033007400330060003C003E007700770084008400840085007400740086006400320033007400"
      B441 "77008600320060003C003E007700770086008400860085006F00740087006400320033006F007700"
      B481 "8700320060003C003E00770077008700840087008500880074008900640032003300880077008900"
      B521 "3200C200F4000000C2000000DC010000040103008A003A008B003F00F80074003600C20042060000"
      B561 "F80077004000C20000020000040103008C0039008D003F00F80074003600C20042060000F8007900"
      B601 "4100F8007A0042001E0078000200410042003A0039008E0043000401030090004300910083004001"
      B641 "830089003A008F0089004400740045007E0044008400450092006F0074008900F000890074007400"
      B681 "4600B401460089006E00890070009300DE02930072020000F8007400460004010300940046009500"
      B721 "3F00F8007A0047001E00780002003F0047009601960000004800F800880049009601970002006500"
      B761 "490004000E0104009300DE0293000000CC020000F80098003F00F80074003600C200000042060000"
      B801 "6E006D0099009300DE02930010030000F8009B004B0096019A00020004004B004A000E014A009C00"
      B841 "DE029C0010030000F8009D003F00F80074003600C200000042060000040104009E0065009F000400"
      B881 "3F00F8007A004C001E00780002003F004C0006012E0070009300DE02930000003404000004010400"
      B921 "A0006500A1002E003F00F8007A004D001E00780002003F004D0050002E0073004E00F80077004F00"
      B961 "98004F004E0074003404000084002E0073004F007400500050005000A2009C0006019C006F00A300"
      B1001 "DE02A300BC03000004010300A4005000A5003F00F80074003600C20042060000C20000002C040000"
      B1041 "B4005000A2007400510004010300A6005000A7003F00F8007A0052001E00780002003F0052000400"
      B1081 "340074003400940151007400A80086025000A800A900FC00A900340074002900D0005000A9009401"
      B1121 "A9005100AA009401AA006F00AB0064015000AB00AC00FC00AC0034006F002900C20000006C030000"
      B1161 "F8007700530098005300340074000000280500009601AD0003000400000029005300740000002900"
      B1201 "53006F005400DE0254000000EC040000B401460093006E0093007700A300DE02A3000000BC040000"
      B1241 "E600290053007400AC0004010500AE006500AF00AC00B0003F00F80077003600F8007A0055001E00"
      B1281 "780002003F005500C2000000E4040000E600290053007400AC0004010500B1006500AF00AC00B000"
      B1321 "3F00F80074003600C200000042060000C200000022050000E600290053007400A300E60029005300"
      B1361 "6F00AC0004010600B2006500B300A3009200AC003F00F8007A0056001E00780002003F005600C200"
      B1401 "3A040000F8006F0058009601B40003000400580030005700F800740059009601B400030004005900"
      B1441 "3100570004010400B50065009F0004003F00F8007A005A001E00780002003F005A00F80074005B00"
      B1481 "9601B600020004005B0054009601B700010004005400F80074005C0096019A00020004005C004A00"
      B1521 "9601960000005D00F800B9005E00F800BA005F009601B80003005E005F004A003F00F8007A006000"
      B1561 "1E00780002003F006000F80077003E0098003E003300740024060000600032003E0074007700A300"
      B1601 "6E004A00A300AC00DE02AC001C060000600032003E006F0077003600600032003E00880077003F00"
      B1641 "C200000024060000C2000000D40500006E0036007000AC00DE02AC00420600003A00BB004A003F00"
      B1681 "F800740036006E0036007700AC00DE02AC0000006C060000F8007A0061001E00780002003F006100"
      B1721 "C2000000B4060000040106006A007B006C00BC006900BD00620004010500BE003F00BF006200C000"
      B1761 "C1004001C100C2003A008F00C2004400740045007E004400F8007A0063001E00C30002003F006300"
      B1801 "F800360064005C01F800700064005C010022427C3A44534C6F67496E666F4C6F6164696E67204461"
      B1841 "746153746167652065786974636F6465204D617058434F7274725574696C69747952756E4D617374"
      B1881 "65724A6F622F78636F5F6A6F62636F6E74726F6C5F65786974636F6465732E636667232C54686520"
      B1921 "66696C652020646F6573206E6F74206578697374206F722063616E6E6F7420626520726561642E54"
      B1961 "686520706174682020646F6573206E6F74206578697374206F722063616E6E6F7420626520726561"
      B2001 "642E20456E7375726520706172616D657465722058434F5F484F4D452076616C756520697320636F"
      B2041 "72726563742E2F78636F5F6A6F62636F6E74726F6C5F73657474696E67732E6366675348202D6320"
      B2081 "636174207C2067726570202D69204D5042207C2068656164202D313D4D616E6461746F7279205061"
      B2121 "72616D657465722042696E64696E672056616C2069732020636865636B4453525F54494D45535441"
      B2161 "4D5044534174746163684A6F624572726F7220617474616368696E6720746F20686967686C657665"
      B2201 "6C206A6F622E20506C6561736520656E73757265206A6F622065786973747320616E642069732063"
      B2241 "6F6D70696C65642E5944534765744A6F62496E666F4572726F722C206A6F62206973206E6F74206D"
      B2281 "756C7469706C6520696E766F636174696F6E20656E61626C65642E417474616368656420746F2068"
      B2321 "696768206C6576656C206A6F62202E204A6F622048616E646C65203D2050617273696E6720657874"
      B2361 "65726E616C206A6F6220706172616D6574657273206F6620202C617267756D656E7420504D5F4558"
      B2401 "545F504152414D533A2D203A3D3A4552524F523A2022222E20496E76616C696420656E7472792069"
      B2441 "6E206F7074696F6E616C20706172616D6574657220737472696E672E2052657669657720616E6420"
      B2481 "72657472792E537563636573733A2022222E2056616C69642E4453536574506172616D5741524E49"
      B2521 "4E472073657474696E672076616C756520666F7220706172616D65746572206F66202C202E20456E"
      B2561 "73757265207072616D65746572206E616D6520697320636F727265637420616E6420697320646566"
      B2601 "696E656420696E20746865206A6F622E4552524F522073657474696E672076616C756520666F7220"
      B2641 "706172616D65746572206F662056616C75652073657420666F7220706172616D65746572206F6620"
      B2681 "2069732044535365744A6F624C696D69745374617274696E67206A6F6220657865637574696F6E20"
      B2721 "445352756E4A6F62445357616974466F724A6F622A4461746153746167652A4453525F4D45535341"
      B2761 "47454453544147455F5452585F495F3030323052756E4A6F62205374617475733D25314A6F622065"
      B2801 "7865637574696F6E20726571756573742066696E6973686564207769746820756E6B6E6F776E2053"
      B2841 "74617475733A2A2F58434F7274725574696C69747952756E4D61737465724A6F625F2E7478746563"
      B2881 "686F20203E3E202044534C6F675761726E0364000000030200000001000000000100000001010000"
      B2921 "00010000000101000000020000000101000000030000000301000000050000000001010000000400"
      B2961 "00000300000000040900000005000000011E0000000E00000001190000002C000000010100000045"
      B3001 "000000011C0000004600000003FE0000000501000000050200000001010000006200000005030000"
      B3041 "00050400000005050000000506000000010100000063000000050700000005080000000303000000"
      B3081 "050900000001090000006400000001220000006D00000001090000008F000000014E000000980000"
      B3121 "00011C000000E600000001060000000201000001040000000801000001170000000C010000010100"
      B3161 "000023010000050A000000012300000024010000010600000047010000040D0000004D010000040B"
      B3201 "0000005A010000014B000000650100000101000000B0010000040C000000B1010000031500000005"
      B3241 "0B000000012E000000BD010000011B000000EB010000010F00000006020000012300000015020000"
      B3281 "011B00000038020000010300000053020000050C00000001080000005602000001400000005E0200"
      B3321 "00010A0000009E0200000109000000A8020000050D000000050E000000050F000000051000000005"
      B3361 "11000000040A000000B10200000127000000BB0200000102000000E2020000013C000000E4020000"
      B3401 "012500000020030000011B00000045030000010400000060030000040D0000006403000001170000"
      B3441 "0071030000040800000088030000040C0000009003000004160000009C0300000111000000B20300"
      B3481 "000110000000C30300000134000000D3030000011B00000007040000010400000022040000010500"
      B3521 "00002604000001040000002B04000001010000002F04000005120000000513000000040900000030"
      B3561 "04000000000000000000000000000008000000010001000000000010000000020001000000000018"
      B3601 "00000003000100000000002000000004000100000000002A00000005000100000000003300000006"
      B3641 "000100000000003D00000007000100000000004600000008000100000000004E0000000900010000"
      B3681 "000000580000000A00010000000000680000000B00010000000000720000000C000100000000007C"
      B3721 "0000000D00010000000000840000000E000100000000008E0000000F000100000000009800000010"
      B3761 "00010000000000A00000001100010000000000AD0000001200010000000000BA0000001300010000"
      B3801 "000000C40000001400010000000000D00000001500010000000000DE0000001600010000000000EA"
      B3841 "0000001700010000000000F20000001800010000000000FA0000001900010000000000050100001A"
      B3881 "000100000000000B0100001B00010000000000150100001C00010000000000200100001D00010000"
      B3921 "0000002A0100001E00010000000000350100001F000100000000003E010000200001000000000043"
      B3961 "01000021000100000000004D01000022000100000000005301000023000100000000006001000024"
      B4001 "000100000000006701000025000100000000006F0100002600010000000000780100002700010000"
      B4041 "0000008001000028000100000000008801000029000700000000008E0100002A0001000000000091"
      B4081 "0100002B00010000000000940100002C00010000000000970100002D000100000000009C0100002E"
      B4121 "00010000000000A60100002F00010000000000B50100003000010000000000BE0100003100010000"
      B4161 "000000C80100003200010000000000D60100003300010000000000E80100003400010000000000F3"
      B4201 "01000035000100000000000302000036000100000000000702000037000100000000000E02000038"
      B4241 "00010000000000150200003900010000000000240200003A00010000000000330200003B00010000"
      B4281 "000000400200003C000100000000004D0200003D00010000000000560200003E0001000000000060"
      B4321 "0200003F000100000000006802000040000100000000007502000041000100000000007C02000042"
      B4361 "000100000000008302000043000100000000009302000044000100000000009D0200004500010000"
      B4401 "000000A50200004600010000000000B00200004700010000000000B70200004800010000000000C4"
      B4441 "0200004900010000000000CB0200004A00010000000000D20200004B00010000000000D90200004C"
      B4481 "00010000000000E00200004D00010000000000E70200004E00010000000000F60200004F00010000"
      B4521 "0000000203000050000100000000000F03000051000100000000001E030000520001000000000025"
      B4561 "03000053000100000000002E03000054000100000000003603000055000100000000003D03000056"
      B4601 "000100000000004403000057000100000000004D0300005800010000000000540300005900010000"
      B4641 "0000005B0300005A00010000000000620300005B00010000000000690300005C0001000000000070"
      B4681 "0300005D000100000000007B0300005E00010000000000820300005F000100000000008903000060"
      B4721 "00010000000000900300006100010000000000970300006200010000000000A20300006300010000"
      B4761 "000000A90300006400030000000000B00300006500040000000000BC0300006600040000000000C9"
      B4801 "0300006700040000000000DA0300006800040000000000E80300006900040000000000F20300006A"
      B4841 "00040000000000FB0300006B000400000000000A0400006C00040000000000160400006D00040000"
      B4881 "000000244D4154524958004A6F624E616D65004572724D6F64650052746E4E616D65004A6F624861"
      B4921 "6E646C6500496E666F547970650053746167654E616D65004C696E6B4E616D65004576656E744964"
      B4961 "0052756E4E756D626572004576656E745479706546696C746572004576656E745479706500537461"
      B5001 "727454696D6500456E6454696D65004D61784E756D62657200506172616D4E616D65005661724E61"
      B5041 "6D650043757374496E666F4E616D65004576656E744D657373616765004D7367537472696E670052"
      B5081 "65706F72744C6576656C004C696E65536570617261746F72004D736754656D706C61746500417267"
      B5121 "4C6973740052756E4D6F646500506172616D65746572730056616C7565004C696D69745479706500"
      B5161 "4C696D697456616C75650051756575654E616D6500506172616D56616C75650056617256616C7565"
      B5201 "00436F6465004572726F72436F6465004A6F6249440054726163654F7074696F6E7300706F72744E"
      B5241 "6F0054696D656F757400537562724E616D650053756272417267004F7074696F6E7300506172616D"
      B5281 "00413100413200413300496E666F00457874506172616D7300457874506172616D734368696C6400"
      B5321 "526F774C696D6974005761726E4C696D69740045786974436F646541727261790045786974436F64"
      B5361 "654172726179526F777300506172616D436F756E7400506172616D4368696C64436F756E7400416E"
      B5401 "73005F5430303031005F54303030320058636F436667506174684E616D650058636F43666746696C"
      B5441 "654E616D650058636F4366674275666665720058636F4366675265636F726400526F77436F756E74"
      B5481 "00526F774E756D626572004D6573736167650046776B436667427566666572005F5430303033005F"
      B5521 "54303030340058636F53746E6746696C654E616D650053746174656D656E7400526573756C747300"
      B5561 "58636F53746E6756616C005F5430303035004A6F62537461727454696D65005F5430303036005374"
      B5601 "61747573005F5430303037005F5430303038005F543030303900457874506172616D73436F756E74"
      B5641 "00457874506172616D4E756D00457874506172616D5061697200536570617261746F72496E646578"
      B5681 "005F543030313000506172616D4E756D00457272436F6465005F5430303131005F5430303132004C"
      B5721 "696D6974457272005F5430303133005F5430303134005F5430303135005F5430303136005F543030"
      B5761 "3137004A6F62456E6454696D65005F5430303138005F5430303139005F5430303230005F54303032"
      B5801 "310058636F45727246696C65005F5430303232005F543030303000504D5F4A4F425F4E414D450050"
      B5841 "4D5F524F575F4C494D495400504D5F5741524E494E475F4C494D495400504D5F4558545F50415241"
      B5881 "4D5300504D5F494E565F49440058434F5F484F4D450058434F5F434F4E4649475F4449520058434F"
      B5921 "5F4C4F475F44495200504D5F4D554C54495F494E535400F2FF0000FBFF0800060006000A00FEFF18"
      B5961 "002400FEFF24000600060006000600FBFF0600FEFF16000C00FEFF06000C0010000E00FEFF12003C"
      B6001 "00080026002600FEFF2600060008000C000600FEFF0600060006000C000600FAFF0600FEFF160008"
      B6041 "001A00080016001600FEFF06000C00FAFF100008001200100006000600FDFF0800100012000E0006"
      B6081 "000600FBFF08000E00F1FF100012000E001000080012000C0018000C000600FEFF0E000A000C00FD"
      B6121 "FF100008001A00FDFF2800FAFF080014001A000A0018001A000600FEFF18001A000600FDFF100026"
      B6161 "00FEFF1000F9FF06001400FEFF14000E00FEFF100012000A001200FEFF08001A00FBFF100012001C"
      B6201 "000C000C00FEFF0800FDFF080010000800FBFF06001200FEFF180012001E000800FEFF100008002F"
      B6241 "6F70742F49424D2F496E666F726D6174696F6E5365727665722F5365727665722F50726F6A656374"
      B6281 "732F46454154555245532F4453555F42502F4453552E58434F7274725574696C69747952756E4D61"
      B6321 "737465724A6F620000"
   END DSUBINARY
END DSROUTINES
BEGIN DSPARAMETERSETS
   BEGIN DSRECORD
      Identifier "PS_DB_NZ"
      DateModified "2021-12-07"
      TimeModified "15.19.34"
      OLEType "CParameterSet"
      Readonly "0"
      Category "\\Parameter Sets\\Data Migration"
      ShortDesc "Parameterset holding the connection parameters for PDA database"
      Parameters "CParameters"
      BEGIN DSSUBRECORD
         Name "$MIG_NZ_SERVER"
         Prompt "MIG_NZ_SERVER"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$MIG_NZ_DSN"
         Prompt "NZ_DSN"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$MIG_NZ_DB"
         Prompt "NZ_DB"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$MIG_NZ_USER"
         Prompt "NZ_USER"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$MIG_NZ_PWD"
         Prompt "Database password ?"
         Default "{iisenc}eHG47YUwCsilbsYLdMUwUw=="
         ParamType "1"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      ParamValues "\S$MIG_NZ_SERVER=\S$MIG_NZ_DSN=\S$MIG_NZ_DB=\S$MIG_NZ_USER=\S$MIG_NZ_PWD="
   END DSRECORD
   BEGIN DSRECORD
      Identifier "PS_DB_ORA"
      DateModified "2021-12-07"
      TimeModified "15.19.37"
      OLEType "CParameterSet"
      Readonly "0"
      Category "\\Parameter Sets\\Data Migration"
      ShortDesc "Parameter set for Oracle  database variables"
      Parameters "CParameters"
      BEGIN DSSUBRECORD
         Name "$MIG_ORA_DB"
         Prompt "ORA_DB"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$MIG_ORA_USER"
         Prompt "ORA_USER"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$MIG_ORA_PWD"
         Prompt "ORA_PWD"
         Default "{iisenc}eHG47YUwCsilbsYLdMUwUw=="
         ParamType "1"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
   END DSRECORD
   BEGIN DSRECORD
      Identifier "PS_DB_SL"
      DateModified "2022-05-12"
      TimeModified "15.58.51"
      OLEType "CParameterSet"
      Readonly "0"
      Category "\\Parameter Sets"
      ShortDesc "Shared Layer Database Connection Parameters"
      Parameters "CParameters"
      BEGIN DSSUBRECORD
         Name "$NZ_DSN"
         Prompt "Netezza DSN ?"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$NZ_SL_PWD"
         Prompt "Database password ?"
         Default "{iisenc}eHG47YUwCsilbsYLdMUwUw=="
         ParamType "1"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$NZ_SL_USER"
         Prompt "Database writer user ?"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$NZ_SL_DB"
         Prompt "Database name ?"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
   END DSRECORD
   BEGIN DSRECORD
      Identifier "PS_DB_SL_ORA_SCM_v0001"
      DateModified "2021-12-07"
      TimeModified "15.19.37"
      OLEType "CParameterSet"
      Readonly "0"
      Category "\\Parameter Sets"
      ShortDesc "Parameter set for Oracle schema Information store variables"
      Description =+=+=+=
PS_DB_SL_ORA_SCM_v0001
Parameter set for Oracle SL Layer database variables

2019-06-19 - DATA PIPELINE v - Initial version
=+=+=+=
      Parameters "CParameters"
      BEGIN DSSUBRECORD
         Name "$ORA_SCM_SLT"
         Prompt "ORA_SCM_SLT"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$ORA_SCM_SLV"
         Prompt "ORA_SCM_SLV"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$ORA_SCM_STG"
         Prompt "ORA_SCM_STG"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$ORA_SCM_PRP"
         Prompt "ORA_SCM_PRP"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$ORA_SCM_CCL"
         Prompt "Oracle CCL CAS Owner"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$ORA_SCM_IS_PPA_CDV"
         Prompt "ORA_SCM_IS_PPA_CDV"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
   END DSRECORD
   BEGIN DSRECORD
      Identifier "PS_DB_SL_ORA_v0001"
      DateModified "2021-12-07"
      TimeModified "15.19.38"
      OLEType "CParameterSet"
      Readonly "0"
      Category "\\Parameter Sets"
      ShortDesc "Parameter set for Oracle Information Store database variables"
      Description =+=+=+=
PS_DB_SL_ORA_v0001
Parameter set for Oracle SL Layer database variables

2020-06-19 - DATA PIPELINE v - Initial version
=+=+=+=
      Parameters "CParameters"
      BEGIN DSSUBRECORD
         Name "$ORA_SL_DB"
         Prompt "Oracle Database Name"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$ORA_SL_USER"
         Prompt "ORA_SL_USER"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$ORA_SL_PWD"
         Prompt "ORA_SL_PWD"
         Default "{iisenc}eHG47YUwCsilbsYLdMUwUw=="
         ParamType "1"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$ORA_DL1_USER"
         Prompt "Oracle Wallet User, to be used for Objects in STG, CTL and common object in CAS Schema"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
   END DSRECORD
   BEGIN DSRECORD
      Identifier "PS_ENV"
      DateModified "2021-12-07"
      TimeModified "15.19.38"
      OLEType "CParameterSet"
      Readonly "0"
      Category "\\Parameter Sets"
      ShortDesc "Parameterset or OS paths"
      Parameters "CParameters"
      BEGIN DSSUBRECORD
         Name "$DIR_BIN"
         Prompt "Directory for shell scripts ?"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$DIR_DATA"
         Prompt "Directory for data file processing ?"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$DIR_DATA_WORK"
         Prompt "Directry for temporary work files ?"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$DIR_DATA_OUT"
         Prompt "Directory for outgoing data files ?"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$DIR_DATA_IN"
         Prompt "Directory for incoming data files ?"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$DIR_DS"
         Prompt "Directory for datasets (headers) ?"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$DIR_LKP"
         Prompt "Directory for static dta files ? "
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$DIR_LOG"
         Prompt "Directory for log files ?"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$DIR_PS"
         Prompt "Directory for parameter fies ?"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$DIR_SCH"
         Prompt "Directory for schema files"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$DIR_SQL"
         Prompt "Directory for SQL/DDL files ?"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$DIR_SEQ"
         Prompt "Directory for surrogate key files ?"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$DIR_DATA_PROCESSED"
         Prompt "Directory for processed files"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
   END DSRECORD
   BEGIN DSRECORD
      Identifier "XCO_API_PS_Folders"
      DateModified "2021-11-23"
      TimeModified "11.44.57"
      OLEType "CParameterSet"
      Readonly "0"
      Category "\\CommonCore\\API"
      ShortDesc "Parameter Set for Common Core directory to expose to the features"
      Description =+=+=+=
Folders to expose to the features

Modified by: Sonia Dsouza
Modification date: 2016-09-13

2016-09-13     V0.01    SDsouza               Initial Version
=+=+=+=
      Parameters "CParameters"
      BEGIN DSSUBRECORD
         Name "$XCO_BASE"
         Prompt "Common Core base location"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$XCO_INST"
         Prompt "common Core instance name"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$XCO_VERSION"
         Prompt "Common core version number"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$XCO_HOME"
         Prompt "Common core home directory inclusive of instance and version"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$XCO_LOG_DIR"
         Prompt "Common core log directory relative to XCO_HOME"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$FEAT_BASE"
         Prompt "Feature Base directory"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$FEAT_COLLECTION"
         Prompt "Feature Collection name"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$FEAT_HOME"
         Prompt "Feature Home directory"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
   END DSRECORD
   BEGIN DSRECORD
      Identifier "XCO_PS_Database"
      DateModified "2021-11-23"
      TimeModified "11.44.57"
      OLEType "CParameterSet"
      Readonly "0"
      Category "\\CommonCore\\Configuration\\ParameterSet"
      ShortDesc "Parameter Set for Common Core Database Connection"
      Description =+=+=+=
Modified by: Sonia Dsouza
Modification date: 2016-09-13

2016-09-13     V0.01    SDsouza               Initial Version
=+=+=+=
      Parameters "CParameters"
      BEGIN DSSUBRECORD
         Name "$XCO_DB_WRITE_USER"
         Prompt "DB User writing data in Common Core tables"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$XCO_DB_WRITE_PASSWORD"
         Prompt "DB User write password for Common Core table"
         Default "{iisenc}eHG47YUwCsilbsYLdMUwUw=="
         ParamType "1"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$XCO_DB_PASSWORD"
         Prompt "Common Core DB Password"
         Default "{iisenc}eHG47YUwCsilbsYLdMUwUw=="
         ParamType "1"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$XCO_DB_SCHEMA"
         Prompt "Common Core DB Schema"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$XCO_DB_SERVER"
         Prompt "Common Core DB Server"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
   END DSRECORD
   BEGIN DSRECORD
      Identifier "XCO_PS_Folders"
      DateModified "2021-11-23"
      TimeModified "11.44.57"
      OLEType "CParameterSet"
      Readonly "0"
      Category "\\CommonCore\\Configuration\\ParameterSet"
      ShortDesc "Parameter Set for Common Core directory"
      Description =+=+=+=
Common Core directories relevant to the XCO development

Modified by: Sonia Dsouza
Modification date: 2016-09-13

2016-09-13     V0.01    SDsouza               Initial Version
=+=+=+=
      Parameters "CParameters"
      BEGIN DSSUBRECORD
         Name "$XCO_HOME"
         Prompt "Common core home directory inclusive of instance and version"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$XCO_VERSION_DIR"
         Prompt "Common core version directory relative to XCO_HOME"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$XCO_CREDENTIALS_DIR"
         Prompt "Common core credentials directory relative to XCO_HOME"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$XCO_VERSION"
         Prompt "Common core version number"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$XCO_ADMIN_DIR"
         Prompt "Common core admin directory relative to XCO_HOME"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$XCO_ARCHIVE_DIR"
         Prompt "Common core archvie directory relative to XCO_HOME"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$XCO_COMMON_DIR"
         Prompt "Common core common directory relative to XCO_HOME"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$XCO_REFERENCE_DIR"
         Prompt "Common core reference directort relative to XCO_HOME"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$XCO_EXEC_DIR"
         Prompt "Common core execution directory relative to XCO_HOME"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$XCO_TEMP_DIR"
         Prompt "Common core temp directory relative to XCO_HOME"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$XCO_TEMPLATE_DIR"
         Prompt "Common core template directory relative to XCO_HOME"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$XCO_CONFIG_DIR"
         Prompt "Common core configuration directory relative to XCO_HOME"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$XCO_LOG_DIR"
         Prompt "Common core log directory relative to XCO_HOME"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
   END DSRECORD
   BEGIN DSRECORD
      Identifier "XCO_PS_Job_Status"
      DateModified "2021-11-23"
      TimeModified "11.44.57"
      OLEType "CParameterSet"
      Readonly "0"
      Category "\\CommonCore\\JobControl\\ParameterSet"
      ShortDesc "Enumeration of all possible flow statuses."
      Description =+=+=+=
Enumeration of all possible flow statuses.

Modified by: Sonia Dsouza
Modification date: 2016-09-13

2016-09-13     V0.01    SDsouza               Initial Version
=+=+=+=
      Parameters "CParameters"
      BEGIN DSSUBRECORD
         Name "$XCO_Job_Started"
         Prompt "Indicated common core job started"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$XCO_Job_Aborted"
         Prompt "Indicates common core job aborted"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
      BEGIN DSSUBRECORD
         Name "$XCO_Job_Finished"
         Prompt "Indicates common core job finished"
         Default "$PROJDEF"
         ParamType "0"
         ParamLength "0"
         ParamScale "0"
      END DSSUBRECORD
   END DSRECORD
END DSPARAMETERSETS
